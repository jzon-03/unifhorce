<!-- Success Stories / Testimonials -->
<section id="testimonials" class="testimonials" role="region" aria-labelledby="testimonials-heading">
  <div class="container">
    <div class="section-header">
      <h2 id="testimonials-heading">Success Stories</h2>
      <p class="section-subtitle">Hear from Filipino healthcare workers who achieved their American dreams</p>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="loading-state" role="status" aria-label="Loading testimonials">
      <div class="loading-spinner" aria-hidden="true"></div>
      <p>Loading success stories...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="error && !loading" class="error-state" role="alert">
      <p>{{ error }}</p>
      <button (click)="loadTestimonials()" class="retry-btn">Try Again</button>
    </div>

    <!-- Testimonials Grid -->
    <div *ngIf="!loading && !error" class="testimonials-grid" role="group" aria-label="Success stories from Filipino healthcare workers">
      <article 
        *ngFor="let testimonial of testimonials; trackBy: trackByTestimonial" 
        class="testimonial-card"
        role="article"
        [attr.aria-labelledby]="'testimonial-' + testimonial.initials"
      >
        <div class="testimonial-content">
          <p>
            <span aria-hidden="true">"</span>{{ testimonial.quote }}<span aria-hidden="true">"</span>
          </p>
        </div>
        <div class="testimonial-author">
          <div class="placeholder-testimonial" [attr.aria-label]="testimonial.name + ' initials'">
            {{ testimonial.initials }}
          </div>
          <div class="author-info">
            <h4 [id]="'testimonial-' + testimonial.initials">{{ testimonial.name }}</h4>
            <span class="author-title">{{ testimonial.title }}, {{ testimonial.hospital }}</span>
            <span class="author-location">From {{ testimonial.locationFrom }} to {{ testimonial.locationTo }}</span>
          </div>
        </div>
      </article>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading && !error && testimonials.length === 0" class="empty-state">
      <p>No testimonials available at the moment. Check back soon for inspiring success stories!</p>
    </div>
  </div>
</section>
